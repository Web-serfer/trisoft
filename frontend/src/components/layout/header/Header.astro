---
import Logo from './Logo.astro'
import Navbar from './Navbar.astro'
import MobileMenu from './MobileMenu.astro'
import Button from '@components/base/Button.astro'
---

<header id="main-header" class="w-full h-20">
    <div id="header-inner-container" class="h-full bg-white shadow-sm transition-all duration-300 relative">

        <div class="max-w-7xl mx-auto h-full px-4">
            <div class="flex items-center justify-between h-full select-none">
                <Logo />
                <div class="hidden lg:flex flex-1 justify-center">
                    <nav class="flex items-center">
                        <Navbar />
                    </nav>
                </div>
                <div class="hidden lg:flex items-center gap-x-4">
                    <Button variant="primary" href="/login" text="Вход" />
                </div>
                <div class="lg:hidden">
                    <MobileMenu />
                </div>
            </div>
        </div>

        <!-- Теперь этим элементом полностью управляет CSS -->
        <div id="scroll-line" class="absolute bottom-0 left-0 h-0.5 bg-blue-500"></div>

    </div>
</header>

<style>
    @keyframes fade-in-down {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    #main-header {
        animation: fade-in-down 0.8s ease-out forwards;
    }

    @keyframes scroll-progress {
        from { width: 0%; }
        to { width: 100%; }
    }

    #scroll-line {
        animation: scroll-progress linear;
        animation-timeline: scroll(root);
    }
</style>

